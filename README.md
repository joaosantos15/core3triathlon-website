# Core3 Triathlon Club Website

This repository contains the Astro project behind the Core3 Triathlon Club site. The goal of this guide is to walk teammates—especially those new to Astro or JavaScript—through the tasks they are most likely to perform: updating copy, swapping images, adding new sections, creating fresh pages, and publishing the changes safely.

---

## 1. Prerequisites

- **Node.js 18+** – download from [nodejs.org](https://nodejs.org) if it is not installed.
- **npm** – ships with Node.js. Check with `npm --version`.
- **Git** – needed to pull changes and create commits. Verify with `git --version`.
- **A code editor** – Visual Studio Code works well and has an Astro extension, but any editor is fine.
- **Terminal access** – macOS Terminal, Windows PowerShell, or any shell you prefer.

Confirm everything is ready:

```sh
node --version
npm --version
git --version
```

---

## 2. Getting Started

1. **Clone or download the repository**
   ```sh
   git clone <repository-url>
   cd core3triathlon-website
   ```
   If you download a ZIP file instead, unzip it and open the folder in your editor.

2. **Install dependencies**
   ```sh
   npm install
   ```
   This installs Astro, Tailwind, Husky, and other required packages. The install step also wires up the shared Git hook (see Section 10).

3. **Run the development server**
   ```sh
   npm run dev
   ```
   Astro prints a local address—usually `http://localhost:4321`. Open it in your browser to see a live preview. Leave the server running; pages refresh automatically as you edit files. Press `Ctrl+C` in the terminal to stop it when you are done.

---

## 3. Project Layout

| Path | Purpose |
| ---- | ------- |
| `src/pages/index.astro` | Home page. Contains all hero, about, and CTA sections. |
| `src/styles/global.css` | Global CSS overrides shared by every page. |
| `public/` | Static assets that are copied to the final site exactly as-is. |
| `public/images/` | Image assets referenced by pages (hero images, logos, social preview). |
| `docs/` | Build output used for deployment (GitHub Pages). Generated by `npm run build`. |
| `.husky/` | Git hooks. The pre-commit hook builds the site before every commit. |
| `astro.config.mjs` | Astro configuration, including build output location. |
| `package.json` | Lists dependencies and npm scripts. |

Astro treats every file in `src/pages/` as a route. For example, a file named `src/pages/about.astro` would become `/about/index.html` on the website.

---

## 4. Editing the Home Page (`src/pages/index.astro`)

Open `src/pages/index.astro` in your editor. The file has two main parts:

1. **Frontmatter** – the JavaScript block between the first pair of `---` lines. This is where variables, imports, and meta tag values are defined.
2. **HTML markup** – everything below the frontmatter is standard HTML marked up with Tailwind utility classes for styling.

### Updating Text

1. Use your editor’s search (`Cmd/Ctrl+F`) to find the existing text that needs to change (for example, “Community. Challenge. Connection.”).
2. Replace the words that appear between the HTML tags with the new copy.
3. Save the file. The running dev server reloads automatically—check your browser to confirm the update.

### Editing Buttons and Links

- Buttons and navigation links use `<a>` tags. Change the label by editing the content between `<a> ... </a>`.
- Update the destination by editing the value of the `href="..."` attribute. Some links (like “Join”) use predefined variables declared in the frontmatter (e.g., `registrationLink`). Update the variable if you want all references to change at once.

### Swapping Images

1. Place the new image in `public/images/`. You can replace an existing file (for example `hero.jpeg`) or add a new filename.
2. In `index.astro`, find the `<img src="/images/...">` that should use the new image.
3. Update the `src` attribute to match the new filename and adjust the `alt` text so it describes the new image accurately.
4. Save and confirm the change in the browser preview.

**Social preview image:** The Open Graph and Twitter meta tags reference the `ogImagePath` variable in the frontmatter. Replace the file `public/images/og-preview.png` or update `ogImagePath` to point to a new image if you want to change link previews.

---

## 5. Adding a New Section to the Home Page

1. Decide where the new section should appear and locate that spot in `index.astro`.
2. Copy an existing `<section>` block or paste in the starter snippet below.
3. Customize the heading, text, and Tailwind classes to fit your content.

```astro
<section class="bg-white py-20">
  <div class="mx-auto max-w-6xl px-6">
    <h2 class="text-3xl font-extrabold uppercase tracking-[0.2em] text-brand-purple">
      Section Title
    </h2>
    <p class="mt-4 text-base leading-relaxed text-slate-600">
      Introductory copy for the new section goes here.
    </p>
  </div>
</section>
```

4. Save the file and review the layout in your browser. Adjust spacing by editing the Tailwind utility classes (for example, change `py-20` to `py-16` for a shorter block).

---

## 6. Creating a Brand-New Page

1. Create a new file in `src/pages/`, such as `src/pages/about.astro`.
2. Paste in the template below and customize it:

```astro
---
import '../styles/global.css'
const pageTitle = 'About Core3 Triathlon Club'
const pageDescription = 'Learn more about the athletes and coaches behind the club.'
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{pageTitle}</title>
    <meta name="description" content={pageDescription} />
  </head>
  <body class="font-sans text-slate-900 antialiased">
    <main class="mx-auto max-w-6xl px-6 py-20">
      <h1 class="text-4xl font-extrabold uppercase tracking-[0.2em] text-brand-purple">
        {pageTitle}
      </h1>
      <p class="mt-6 text-base leading-relaxed text-slate-600">
        Replace this paragraph with your content.
      </p>
    </main>
  </body>
</html>
```

3. Save the file. With `npm run dev` running, open `http://localhost:4321/about/` (or whatever filename you chose) to check the new page.
4. Add navigation links by editing the `<nav>` in the header (found near the top of `index.astro`). Repeat on any other page that should link to the new route.

---

## 7. Working With Images and Other Assets

- Store site images in `public/images/`. Astro copies everything from `public/` into the built site without processing.
- Reference files with absolute paths, e.g., `<img src="/images/snow.jpeg" alt="Winter training ride" />`.
- Keep file sizes as small as practical—large images slow down the site. Export JPEG for photos, PNG for transparency, and SVG for logos when possible.
- When replacing images, update the descriptive `alt` text; it improves accessibility and SEO.

---

## 8. Styling Tips

This project relies on Tailwind CSS utilities loaded from a CDN (see the `<script src="https://cdn.tailwindcss.com"></script>` tag in the `<head>` of `index.astro`).

- Modify spacing, colors, and typography by editing the `class="..."` attributes directly. For example, change `bg-slate-900` to `bg-slate-800` for a lighter background.
- For more global adjustments, edit `src/styles/global.css`. Import this file at the top of any new page so the styles apply.
- To reuse custom colors or typographic settings, add CSS variables in `:root` within `global.css` or create utility classes there.

Tailwind’s documentation provides a searchable class reference: <https://tailwindcss.com/docs>.

---

## 9. Useful npm Scripts

| Command | Description |
| ------- | ----------- |
| `npm run dev` | Starts the local dev server with automatic reloads. |
| `npm run build` | Generates the production-ready site into the `docs/` folder. Run this before publishing. |
| `npm run preview` | Serves the built output from `docs/` so you can double-check everything before deploying. |
| `npm run astro ...` | Runs Astro CLI commands (`npm run astro -- --help` for options). |

---

## 10. Git Hooks and Required Checks

We use **Husky** to ensure the site builds successfully before every commit:

- The hook lives in `.husky/pre-commit`.
- When you commit, it runs:
  1. `npm run build`
  2. `touch docs/.nojekyll`
  3. `git add docs/.nojekyll` (so the file remains in version control)
- If the build fails, the commit is aborted. Fix the issue, re-run `npm run build` locally if needed, and try again.

If the hook is missing (for example on a fresh clone when `npm install` was skipped), re-enable it with:

```sh
npm run prepare
```

The hook requires permission to update `.git/config`. If you see a permission error, run the command in an environment where you have full access, or ask a teammate with the correct privileges.

---

## 11. Building and Deploying

1. Run `npm run build`. This populates the `docs/` folder with the static site that GitHub Pages serves.
2. Review the output by running `npm run preview` (optional but recommended).
3. Commit both the source changes (files in `src/`, `public/`, etc.) and the generated updates inside `docs/`.
4. Push the branch or open a pull request. Once merged into the default branch, GitHub Pages deploys the contents of `docs/`.

**Important:** Do not edit files inside `docs/` by hand. They are overwritten every time the site is rebuilt.

---

## 12. Troubleshooting

- **Dev server is not updating:** Confirm `npm run dev` is still running. If the browser doesn’t refresh automatically, reload the page manually or restart the dev server.
- **Image does not appear:** Check that the file lives in `public/images/` and that the `src` path matches exactly (including capitalization). Rebuild if necessary.
- **Commit fails because of Husky:** Review the error message—it usually indicates a build error, missing file, or syntax issue. Fix the problem, stage the changes, and commit again.
- **Permission error running `npm run prepare`:** Ensure you are working in a directory you own and that you have rights to modify `.git/config`. On macOS you may need to run the command in your user-owned repository clone rather than a synced folder.
- **Need to discard local edits:** Use your editor’s undo or run `git checkout -- path/to/file` before committing (warning: this permanently removes unstaged changes for that file).

---

## 13. Need Help?

- Browse the Astro documentation: <https://docs.astro.build>
- Ask a teammate for a quick walkthrough if something is unclear.
- When opening a pull request, leave notes about anything you’re unsure about so reviewers can help.

Save often, preview your work locally, and let the automated checks catch mistakes before they reach production. With these steps, you should be able to confidently maintain and extend the Core3 Triathlon Club website. Happy building!
